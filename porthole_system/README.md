# ν¬νΈν™€ κ°μ§€ μ‹μ¤ν… (Porthole Detection System)

μ΄ ν”„λ΅μ νΈλ” λ„λ΅μ ν¬νΈν™€ μ •λ³΄λ¥Ό κ΄€λ¦¬ν•κ³ , μ°¨λ‰κ³Ό ν¬νΈν™€ κ°„μ κ±°λ¦¬λ¥Ό κ³„μ‚°ν•μ—¬ μ‹¤μ‹κ°„ μ•λ¦Όμ„ μ κ³µν•λ” μ‹μ¤ν…μ…λ‹λ‹¤.

## μ£Όμ” κΈ°λ¥

- ν¬νΈν™€ λ“±λ΅, μ΅°ν, μƒνƒ μ—…λ°μ΄νΈ, μ‚­μ 
- **π†• ν¬νΈν™€ μ΄λ―Έμ§€ μΊ΅μ² λ° μ €μ¥** - ν¬νΈν™€ νƒμ§€ μ‹ μ‹¤μ‹κ°„ μ΄λ―Έμ§€ μΊ΅μ²
- μ°¨λ‰ λ“±λ΅, μ΅°ν, μ„μΉ μ—…λ°μ΄νΈ, μ‚­μ 
- μ°¨λ‰κ³Ό ν¬νΈν™€ κ°„μ κ·Όμ ‘ κ±°λ¦¬ λ¨λ‹ν„°λ§
- ν¬νΈν™€ μ•λ¦Ό μƒμ„± λ° κ΄€λ¦¬
- μ§€λ„ κΈ°λ° μ‹κ°ν™”
- **π†• μ΄λ―Έμ§€ κΈ°λ° ν¬νΈν™€ μƒμ„Έ μ •λ³΄ ν‘μ‹**

## μ‹μ¤ν… κµ¬μ΅°

```
porthole_system/
β”β”€β”€ backend/           # λ°±μ—”λ“ λ¨λ“
β”‚   β”β”€β”€ api/           # API μ—”λ“ν¬μΈνΈ
β”‚   β”‚   β”β”€β”€ alerts.py  # μ•λ¦Ό API
β”‚   β”‚   β”β”€β”€ car.py     # μ°¨λ‰ API
β”‚   β”‚   β””β”€β”€ porthole.py# ν¬νΈν™€ API
β”‚   β”β”€β”€ crud.py        # λ°μ΄ν„°λ² μ΄μ¤ CRUD μ‘μ—…
β”‚   β”β”€β”€ db.py          # λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²° λ° μ΄κΈ°ν™”
β”‚   β”β”€β”€ logic.py       # λΉ„μ¦λ‹μ¤ λ΅μ§
β”‚   β”β”€β”€ models.py      # λ°μ΄ν„° λ¨λΈ
β”‚   β””β”€β”€ scheduler.py   # λ°±κ·ΈλΌμ΄λ“ μ‘μ—… μ¤μΌ€μ¤„λ¬
β”β”€β”€ frontend/          # ν”„λ΅ νΈμ—”λ“ λ¨λ“
β”‚   β”β”€β”€ app.py         # Streamlit μ•± μ§„μ…μ 
β”‚   β””β”€β”€ ui/            # UI μ»΄ν¬λ„νΈ
β”‚       β”β”€β”€ alert_ui.py    # μ•λ¦Ό UI
β”‚       β”β”€β”€ car_ui.py      # μ°¨λ‰ UI
β”‚       β”β”€β”€ map_ui.py      # μ§€λ„ UI
β”‚       β””β”€β”€ porthole_ui.py # ν¬νΈν™€ UI
β”β”€β”€ main.py            # μ• ν”λ¦¬μΌ€μ΄μ… μ§„μ…μ 
β””β”€β”€ requirements.txt   # ν•„μ”ν• ν¨ν‚¤μ§€ λ©λ΅
```

## μ„¤μΉ λ°©λ²•

1. μ €μ¥μ† ν΄λ΅ 

```bash
git clone https://github.com/yourusername/porthole-system.git
cd porthole-system
```

2. κ°€μƒν™κ²½ μƒμ„± λ° ν™μ„±ν™”

```bash
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
```

3. ν•„μ”ν• ν¨ν‚¤μ§€ μ„¤μΉ

```bash
pip install -r requirements.txt
```

## μ‹¤ν–‰ λ°©λ²•

1. λ°±μ—”λ“ μ„λ²„ μ‹¤ν–‰

```bash
uvicorn main:app --reload
```

2. ν”„λ΅ νΈμ—”λ“ μ•± μ‹¤ν–‰ (μƒ ν„°λ―Έλ„μ—μ„)

```bash
streamlit run frontend/app.py
```

3. μ›Ή λΈλΌμ°μ €μ—μ„ μ ‘μ†
   - λ°±μ—”λ“ API λ¬Έμ„: http://localhost:8000/docs
   - ν”„λ΅ νΈμ—”λ“ λ€μ‹λ³΄λ“: http://localhost:8501

## π†• μ΄λ―Έμ§€ μΊ΅μ² κΈ°λ¥

### μ„¤μ • λ°©λ²•

1. `detection/config.yaml` νμΌμ—μ„ μ΄λ―Έμ§€ μΊ΅μ² μ„¤μ •:
```yaml
image_capture:
  enabled: true
  save_locally: true
  local_save_path: "./captured_images"
  image_format: "jpg"
  image_quality: 90
  max_image_size: [1920, 1080]
```

### κΈ°λ¥ μ„¤λ…

- **μ‹¤μ‹κ°„ μ΄λ―Έμ§€ μΊ΅μ²**: ν¬νΈν™€ κ°μ§€ μ‹ μλ™μΌλ΅ ν•΄λ‹Ή μ‹μ μ μμƒμ„ μΊ΅μ²
- **μ„λ²„ μ €μ¥**: μΊ΅μ²λ μ΄λ―Έμ§€λ¥Ό λ°±μ—”λ“ μ„λ²„μ `static/porthole_images/` λ””λ ‰ν† λ¦¬μ— μ €μ¥
- **μ›Ή μ ‘κ·Ό**: `/static/` κ²½λ΅λ¥Ό ν†µν•΄ μ›Ήμ—μ„ μ΄λ―Έμ§€ μ ‘κ·Ό κ°€λ¥
- **ν”„λ΅ νΈμ—”λ“ ν‘μ‹**: Streamlit UIμ—μ„ ν¬νΈν™€ μƒμ„Έ μ •λ³΄μ™€ ν•¨κ» μ΄λ―Έμ§€ ν‘μ‹

### ν…μ¤νΈ λ°©λ²•

```bash
# μ΄λ―Έμ§€ μΊ΅μ² κΈ°λ¥ ν…μ¤νΈ
python test_image_capture.py
```

## ν™κ²½ λ³€μ μ„¤μ •

`.env` νμΌμ„ μƒμ„±ν•κ³  λ‹¤μ λ³€μλ¥Ό μ„¤μ •ν•  μ μμµλ‹λ‹¤:

```
OPENAI_API_KEY=your_api_key_here  # μ•λ¦Ό λ©”μ‹μ§€ μƒμ„± λ° TTSλ¥Ό μ„ν• OpenAI API ν‚¤
```

## κ°λ° ν™κ²½

- Python 3.8+
- FastAPI
- Streamlit
- SQLite
- OpenAI API (μ„ νƒμ )

## λΌμ΄μ„ μ¤

μ΄ ν”„λ΅μ νΈλ” MIT λΌμ΄μ„ μ¤ ν•μ— λ°°ν¬λ©λ‹λ‹¤.
